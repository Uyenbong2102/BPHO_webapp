// Switch between sections
const menuItems = document.querySelectorAll('.menu-item');
const sections = document.querySelectorAll('.section');

menuItems.forEach(item => {
  item.addEventListener('click', () => {
    menuItems.forEach(i => i.classList.remove('active'));
    item.classList.add('active');

    const target = item.getAttribute('data-target');
    sections.forEach(sec => {
      sec.classList.remove('active');
      if (sec.id === target) sec.classList.add('active');
    });
  });
});

// Render task content
function renderTaskContent() {
  const select = document.getElementById('taskSelect');
  const container = document.getElementById('taskContent');
  const task = select.value;

  if (!task) {
    container.innerHTML = "";
    return;
  }

  container.innerHTML = `<p>Bạn đang xem nội dung của <strong>${task}</strong>. Nội dung chi tiết sẽ được cập nhật sau.</p>`;
}

// Data table
const data = [
  { time: "2025-08-01 08:00", views: 10 },
  { time: "2025-08-02 12:00", views: 18 },
  { time: "2025-08-03 16:00", views: 25 }
];

function renderDataTable() {
  const tbody = document.querySelector("#data-table tbody");
  tbody.innerHTML = "";

  data.forEach(row => {
    const tr = document.createElement("tr");
    tr.innerHTML = `<td>${row.time}</td><td>${row.views}</td>`;
    tbody.appendChild(tr);
  });
}

// Export to CSV
function exportToExcel() {
  const table = document.getElementById("data-table");
  let csv = "";
  for (let row of table.rows) {
    let rowData = [];
    for (let cell of row.cells) {
      rowData.push(cell.innerText);
    }
    csv += rowData.join(",") + "\n";
  }

  const blob = new Blob([csv], { type: "text/csv" });
  const url = window.URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "data-hosting.csv";
  a.click();
}

// Theme & Font
function changeTheme(value) {
  document.body.classList.remove("light", "dark");
  document.body.classList.add(value);
}

function changeFontSize(value) {
  document.body.classList.remove("small", "large");
  if (value !== "normal") {
    document.body.classList.add(value);
  }
}

// Init
document.addEventListener("DOMContentLoaded", () => {
  renderDataTable();
});
